(()=>{"use strict";function e(e){document.addEventListener("keydown",n),e.classList.add("popup_is-opened")}function t(e){e.target===e.currentTarget&&r(e.target)}function n(e){"Escape"===e.key&&r(document.querySelector(".popup_is-opened"))}function r(e){document.removeEventListener("keydown",n),e.classList.remove("popup_is-opened")}var o=document.querySelector("#card-template").content;function c(e){e.target.closest(".places__item").remove()}function p(e){e.target.classList.toggle("card__like-button_is-active")}var u=document.querySelector(".popup__input_type_name"),a=document.querySelector(".popup__input_type_description"),d=document.querySelector(".profile__title"),i=document.querySelector(".profile__description"),l=document.querySelector(".profile__edit-button"),s=document.querySelector(".popup_type_edit"),_=document.querySelector(".popup_type_new-card"),m=document.querySelector(".profile__add-button"),y=s.querySelector(".popup__form"),v=document.querySelectorAll(".popup__close"),f=document.querySelector(".popup_type_image"),k=_.querySelector(".popup__form"),q=k.querySelector(".popup__input_type_url"),S=k.querySelector(".popup__input_type_card-name"),g=f.querySelector(".popup__image"),E=f.querySelector(".popup__caption"),L=document.querySelector(".places__list");function h(e){var t=function(e,t){var n=o.cloneNode(!0),r=n.querySelector(".card__image");return n.querySelector(".card__title").textContent=e.name,r.src=e.link,r.alt=e.name,function(e,t,n){e.querySelector(".card__delete-button").addEventListener("click",c),e.querySelector(".card__like-button").addEventListener("click",p),e.querySelector(".card__image").addEventListener("click",(function(){return n(t)}))}(n,e,t),n}(e,x);L.prepend(t)}function x(t){g.src=t.link,g.alt=t.name,E.textContent=t.name,e(f)}y.addEventListener("submit",(function(e){e.preventDefault(),d.textContent=u.value,i.textContent=a.value,r(s)})),k.addEventListener("submit",(function(e){e.preventDefault(),h({name:S.value,link:q.value}),r(_)})),l.addEventListener("click",(function(){e(s),u.value=d.textContent,a.value=i.textContent})),m.addEventListener("click",(function(){e(_),k.reset()})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach(h),v.forEach((function(e){var n=e.closest(".popup");n.addEventListener("click",t),e.addEventListener("click",(function(){return r(n)}))}))})();